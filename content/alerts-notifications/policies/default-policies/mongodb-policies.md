---
title: "MongoDB Policies"
#date: 2018-04-12
draft: false
categories:
tags: ["alerts", "notifications", "policies", "default policies", "mongoDB"]
author: Lawrence Lane
---

{{% notice info %}}
Policy names are prefixed with **MongoDB â€“**
{{% /notice %}}

| Policy name                               | Duration | Condition 1                                                                         | (and) Condition 2                                       | Category | Description                                                                                                                                                                                                                                                                                                                                                                     |
|-------------------------------------------|----------|-------------------------------------------------------------------------------------|---------------------------------------------------------|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Connections in Use Threshold Exceeded     | 5 min    | metricly.linux.mongo.connections.utilization percent has a static threshold > 90%   |                                                         | CRITICAL | More than 90% of the total connections to MongoDB are in use. You may need to scale your servers to handle the load.                                                                                                                                                                                                                                                            |
| Elevated Number of Queued Read Requests   | 30 min   | mongo.globalLock.currentQueue.readers has an upper baseline deviation               |                                                         | WARNING  | The number of read requests waiting in the queue has been higher than expected for at least the past 30 minutes.                                                                                                                                                                                                                                                                |
| Elevated Number of Queued Write Requests  | 30 min   | mongo.globalLock.currentQueue.writers has an upper baseline deviation               |                                                         | WARNING  | The number of write requests waiting in the queue has been higher than expected for at least the past 30 minutes.                                                                                                                                                                                                                                                               |
| Elevated Percentage of Connections in Use | 30 min   | metricly.linux.mongo.connections.utilizationpercent has an upper baseline deviation |                                                         | WARNING  | The percentage of client connections in use has been higher than expected for at least the past 30 minutes.                                                                                                                                                                                                                                                                     |
| Suspicious Read Activity                  | 15 min   | metricly.linux.mongo.opcounters.totalreads has an upper baseline deviation          | mongo.globalLock.activeClients.readers has no deviation | WARNING  | The total number of reads (query and getmore requests) has been higher than expected for at least the past 15 minutes. During this time, the number of active readers has remained within the expected range. Since the increase in read activity cannot be explained by a corresponding increase in the number of readers, the increase is deemed to be suspicious.            |
| Suspicious Write Activity                 | 15 min   | metricly.linux.mongo.opcounters.totalwrites has an upper baseline deviation         | mongo.globalLock.activeClients.writers has no deviation | WARNING  | The total number of writes (insert, update, and delete requests) has been higher than expected for at least the past 15 minutes. During this time, the number of active writers has remained within the expected range. Since the increase in write activity cannot be explained by a corresponding increase in the number of writers, the increase is deemed to be suspicious. |
