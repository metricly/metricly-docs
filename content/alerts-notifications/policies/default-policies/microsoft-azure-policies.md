---
title: "Azure Policies"
date: 2018-04-12
draft: false
categories:
tags: ["alerts", "notifications", "policies", "default policies", "azure"]
author: Lawrence Lane
---

{{% notice info %}}
Policy names are prefixed with **Azure VM â€“**
{{% /notice %}}

| Policy name                                     | Metrics Required | Duration | Condition 1                                                                                                               | (and) Condition 2                                                                                 | (and) Condition 3                                  | Cat.    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-------------------------------------------------|------------------|----------|---------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------|----------------------------------------------------|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CPU Threshold Exceeded                          | Boot Diagnostics | 15 min   | Processor.PercentProcessorTime has a static threshold > 50%                                                               |                                                                                                   |                                                    | WARNING | The CPU on the Azure Virtual Machine has exceeded 95% for at least 15 minutes.                                                                                                                                                                                                                                                                                                                                                                                                    |
| Elevated CPU Activity (Normal Network Activity) | Boot Diagnostics | 30 min   | Processor.PercentProcessorTime has an upper baseline deviation + an upper contextual deviation + a static threshold > 20% | NetworkInterface.BytesReceived has  no deviation                                                  | NetworkInterface.BytesTransmitted has no deviation | INFO    | Increases in CPU activity are not uncommon when there is a rise in network activity. Increased traffic to a server means more work for that server to do. This policy is designed to catch cases where CPU activity is higher than than normal and said behavior cannot be explained by a corresponding increase in network traffic. It may or may not represent a problem, but it is useful to know about. This policy will not fire if CPU utilization is less than 20% though. |
| Elevated Disk Activity                          | Boot Diagnostics | 30 min   | PhysicalDisk.ReadsPerSecond has an upper baseline deviation + an upper contextual deviation                               | PhysicalDisk.WritesPerSecond has an upper baseline deviation + an upper contextual deviation      |                                                    | INFO    | Disk activity has been higher than expected for at least 30 minutes.                                                                                                                                                                                                                                                                                                                                                                                                              |
| Elevated Memory Utilization                     | Basic Metrics    | 15 min   | Memory.PercentUsedMemory has an upper baseline deviation + an upper contextual deviation                                  |                                                                                                   |                                                    | WARNING | The memory utilization on the Azure Virtual Machine is higher than expected.                                                                                                                                                                                                                                                                                                                                                                                                      |
| Elevated Network Activity                       | Boot Diagnostics | 30 min   | NetworkInterface.BytesReceived has an upper baseline deviation +  an upper contextual deviation                           | NetworkInterface.BytesTransmitted has an upper baseline deviation + an upper contextual deviation |                                                    | INFO    | Network activity has been higher than expected for at least 30 minutes.                                                                                                                                                                                                                                                                                                                                                                                                           |
| Heavy Disk Load                                 | Basic Metrics    | 5 min    | PhysicalDisk.AverageDiskQueueLength has an upper baseline deviation + an upper contextual deviation                       |                                                                                                   |                                                    | WARNING | Average disk queue length is greater than expected, which could indicate a problem with heavy disk load.                                                                                                                                                                                                                                                                                                                                                                          |
