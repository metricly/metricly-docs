---
title: "ELB Metrics"
#date: 2018-11-30T16:08:13-05:00
draft: false
categories: ["integration", "admin guide", "getting started", "metrics"]
tags: ["aws", "metrics", "elb"]
author: Lawrence Lane
---

## Collected
| Friendly Name                       | Fully Qualified Name (FQN)      | AWS Metric              | Statistic | Units | Max  | Sparse Data Strategy (SDS) | BASE | CORR |
|-------------------------------------|---------------------------------|-------------------------|-----------|-------|------|----------------------------|------|------|
| Healthy Host Count                  | aws.elb.healthyhostcount        | HealthyHostCount        | average   |       | none | last                       | no   | no   |
| Unhealthy Host Count                | aws.elb.unhealthyhostcount      | UnHealthyHostCount      | average   |       | none | last                       | no   | no   |
| Request Count                       | aws.elb.requestcount            | RequestCount            | sum       |       | none | zero                       | yes  | yes  |
| Average Latency                     | aws.elb.latency                 | Latency                 | average   | s     | none | zero                       | yes  | yes  |
| HTTPCode ELB 4XX Response Count     | aws.elb.httpcode_elb_4xx        | HTTPCode_ELB_4XX        | sum       |       | none | zero                       | no   | no   |
| HTTPCode ELB 5XX Response Count     | aws.elb.httpcode_elb_5xx        | HTTPCode_ELB_5XX        | sum       |       | none | zero                       | no   | no   |
| HTTPCode Backend 2XX Response Count | aws.elb.httpcode_backend_2xx    | HTTPCode_Backend_2XX    | sum       |       | none | zero                       | no   | no   |
| HTTPCode Backend 3XX Response Count | aws.elb.httpcode_backend_3xx    | HTTPCode_Backend_3XX    | sum       |       | none | zero                       | no   | no   |
| HTTPCode Backend 4XX Response Count | aws.elb.httpcode_backend_4xx    | HTTPCode_Backend_4XX    | sum       |       | none | zero                       | no   | no   |
| HTTPCode Backend 5XX Response Count | aws.elb.httpcode_backend_5xx    | HTTPCode_Backend_5XX    | sum       |       | none | zero                       | no   | no   |
| Backend Connection Errors           | aws.elb.backendconnectionerrors | BackendConnectionErrors | sum       |       | none | zero                       | no   | no   |
| Average Surge Queue Length          | aws.elb.surgequeuelength        | SurgeQueueLength        | average   |       | 1024 | zero                       | no   | no   |
| Spillover Count                     | aws.elb.spillovercount          | SpilloverCount          | sum       |       | none | zero                       | no   | no   |

## Computed
| Fully Qualified Name (FQN)                       | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Units           | Max  | BASE | CORR | UTIL | Related Global Policies                                                                                                                                       |
|--------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------|------|------|------|------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| netuitive.aws.elb.unhealthyhostpercent           |  the percent of hosts for which an ELB is balancing load that are not healthy. When an ELB determines that an EC2 is “unhealthy”, it will stop directing requests to it, thereby effectively decreasing the configuration’s capacity to service requests. This metric is useful for monitoring actual delivered service capacity of an ELB and its associated EC2s.Computation: (Unhealthy Host Count + Healthy Host Count) == 0 ? 0 : ((Unhealthy Host Count)/(Unhealthy Host Count + Healthy Host Count)) * 100              | percent         | 100  | no   | no   | no   |                                                                                                                                                               |
| netuitive.aws.elb.backendconnectionerrorpercent  |  the percent of all requests for which a connection was not successfully established between the load balancer and the registered instances. Because the load balancer retries the connection when there are errors, this count can exceed the request rate; so, consequently this percentage can exceed 100. Any value of this metric that is over 100% indicates significant retries and serious connectivity issues.Computation: (Request Count == 0 ? 0 : (Backend Connection Errors / Request Count) * 100                | percent         | 100  | yes  | yes  | no   |                                                                                                                                                               |
| netuitive.aws.elb.totalelbhttperrors             |  the total number of HTTP 4XX and 5XX errors that were generated by the ELB. This metric is useful for detecting connection faults between clients and the services associated with the ELB.Computation: HTTPCode ELB 4XX Response Count + HTTPCode ELB 5XX Response Count                                                                                                                                                                                                                                                     | count           | none | yes  | no   | no   |                                                                                                                                                               |
| netuitive.aws.elb.httpcodeelberrorpercent        |  the percentage of all requests for which HTTP 4XX and 5XX errors were generated by the ELB. This metric is useful for detecting connection faults between clients and the services associated with the ELB.Computation: (Total ELB HTTP Errors / Request Count) * 100                                                                                                                                                                                                                                                         | percent         | 100  | yes  | yes  | no   |                                                                                                                                                               |
| netuitive.aws.elb.httpcodelb4xxerrorpercent      |  the percentage of all requests for which HTTP 4xx errors were generated by the ELB.Computation: (HTTPCode ELB 4xx Response Count / Request Count) * 100                                                                                                                                                                                                                                                                                                                                                                       | percent         | 100  | yes  | no   | no   |                                                                                                                                                               |
| netuitive.aws.elb.httpcodelb5xxerrorpercent      |  the percentage of all requests for which HTTP 5xx errors were generated by the ELB.Computation: (HTTPCode ELB 5xx Response Count / Request Count) * 100                                                                                                                                                                                                                                                                                                                                                                       | percent         | 100  | yes  | no   | no   |                                                                                                                                                               |
| netuitive.aws.elb.totalbackendhttperrors         |  the total number of HTTP 4XX and 5XX errors that were generated by hosts for which the ELB is balancing load. This metric is useful for detecting potential service faults.Computation: HTTPCode Backend 4XX Response Count + HTTPCode Backend 5XX Response Count                                                                                                                                                                                                                                                             | count           | none | yes  | no   | no   |                                                                                                                                                               |
| netuitive.aws.elb.httpcodebackenderrorpercent    |  the percentage of all requests for which HTTP 4XX and 5XX errors were generated by hosts for which the ELB is balancing load. This metric is useful for detecting potential service faults.Computation: (Total Backend HTTP Errors / Request Count) * 100                                                                                                                                                                                                                                                                     | percent         | 100  | yes  | yes  | no   | Elevated Backend Error Rate (Low Volume) Elevated Backend Error Rate (High Volume, Low Error Rate) Elevated Backend Error Rate (High Volume, High Error Rate) |
| netuitive.aws.elb.httpcodebackend4xxerrorpercent |  the percentage of all requests for which HTTP 4xx errors were generated by hosts for which the ELB is balancing load.Computation: (HTTPCode Backend 4xx Response Count / Request Count) * 100                                                                                                                                                                                                                                                                                                                                 | percent         | 100  | yes  | no   | no   |                                                                                                                                                               |
| netuitive.aws.elb.httpcodebackend5xxerrorpercent |  the percentage of all requests for which HTTP 5xx errors were generated by hosts for which the ELB is balancing load.Computation: (HTTPCode Backend 5xx Response Count / Request Count) * 100                                                                                                                                                                                                                                                                                                                                 | percent         | 100  | yes  | no   | no   |                                                                                                                                                               |
| netuitive.aws.elb.concurrency                    |  the level of concurrency that an ELB and its associated EC2 is currently delivering. Concurrency is given by Little’s Law which is an indicator of the degree of parallelism supported by the ELB configuration. When the capacity of the system to process requests in parallel is consistently exceeded, queues grow, latency increases and the system will begin to reject requests. This metric may be valuable for off-line analytics to determine system capacity.Computation: (Request Count * Average Latency ) / 300 | requests        | none | yes  | yes  | no   |                                                                                                                                                               |
| netuitive.aws.elb.surgequeueutilization          |  the percent of surge queue capacity (1024 requests) that are currently consumed by waiting requests. This metric can be a leading indicator for latency issues as well as increases in spill over (rejected requests due to high demand). This metric can be used to characterize one aspect of an ELB’s overall utilization.Computation: (Max Surge Queue Length/1024) * 100                                                                                                                                                 | percent         | 100  | yes  | no   | yes  | Surge Queue Utilization Above 5% Surge Queue Utilization Above 50%                                                                                            |
| netuitive.aws.elb.requestspersecond              | This metric reports the number of requests per second being handled by the ELB.Computation: Request Count / 300                                                                                                                                                                                                                                                                                                                                                                                                                                     | requests/second | none | yes  | no   | no   |                                                                                                                                                               |
