---
title: "Metrics"
date: 2018-12-11
draft: false
tags: ["metrics", "integrations", "mysql" ]
author: Lawrence Lane
---

## Collected

| Description                                                                                                                                                                                                                                                    | Type    | Units | Statistic* | Min | Max  | Sparse Data Strategy (SDS) | BASE | CORR | UTIL |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|-------|------------|-----|------|----------------------------|------|------|------|
| The total number of bytes received by the server over the interval.                                                                                                                                                                                            | counter | bytes |            | 0   | none | none                       | yes  | yes  | no   |
| The total number of bytes sent by the server over the interval.                                                                                                                                                                                                | counter | bytes |            | 0   | none | none                       | yes  | yes  | no   |
| The total number of connection attempts made to the server over theprevious interval.                                                                                                                                                                          | counter | count |            | 0   | none | none                       | yes  | no   | no   |
| The total number of times that the query handler read various sectionsof the indices. These metrics are important for computing the percentageof full table scans.                                                                                             | counter | count |            | 0   | none | none                       | no   | no   | no   |
| The maximum number of connections that have ever been open concurrentlysince the server was started. This will be a relatively static number.                                                                                                                  | gauge   | count | max        | 0   | none | none                       | no   | no   | no   |
| The raw data received every minute represents the number of currentlyopen files at that minute. The 5-minute data is the average number offiles in an open state during the previous 5 minutes.                                                                | gauge   | count | average    | 0   | none | none                       | no   | no   | no   |
| The raw data received every minute represents the number of currentlyopen tables at that minute. The 5-minute data is the average number oftables in an open state during the previous 5 minutes.                                                              | gauge   | count | average    | 0   | none | none                       | no   | no   | no   |
| The total number of files that were opened during the previous interval.Note that some (or all) of them may have been closed during the intervalas well.                                                                                                       | counter | count |            | 0   | none | none                       | yes  | yes  | no   |
| The total number of tables that were opened during the previousinterval. Note that some (or all) of them may have been closed duringthe interval as well.                                                                                                      | counter | count |            | 0   | none | none                       | yes  | yes  | no   |
| The raw data received every minute represents the current number ofprepared statements at that minute. The 5-minute data is the averagenumber of prepared statements during the previous 5 minutes.                                                            | counter | count |            | 0   | none | none                       | no   | no   | no   |
| The total number of queries made to the server over the previousinterval.                                                                                                                                                                                      | counter | count |            | 0   | none | none                       | yes  | yes  | no   |
| The total number of threads that were slow to launch during the previousinterval.                                                                                                                                                                              | counter | count |            | 0   | none | none                       | no   | no   | no   |
| The total number of queries that were slow to execute during theprevious interval.                                                                                                                                                                             | counter | count |            | 0   | none | none                       | no   | no   | no   |
| The total number of requested table locks that the server was able togrant immediately during the previous interval.                                                                                                                                           | gauge   | count | sum        | 0   | none | none                       | yes  | yes  | no   |
| The total number of requested table locks that the server had to waitbefore granting during the previous interval.                                                                                                                                             | gauge   | count | sum        | 0   | none | none                       | yes  | yes  | no   |
| The raw data received every minute represents the current number ofthreads in the thread cache at that minute. The 5-minute data is theaverage number of threads in the cache during the previous 5 minutes.                                                   | counter | count |            | 0   | none | none                       | yes  | yes  | no   |
| The raw data received every minute represents the current number ofconnections at that minute. The 5-minute data is the average number ofconnections during the previous 5 minutes.                                                                            | counter | count |            | 0   | none | none                       | yes  | yes  | no   |
| The raw data received is a counter, representing the total number ofthreads that have been created since the server was last started. The5-minute data computes the deltas in these values to give the totalnumber of threads created over the past 5 minutes. | counter | count |            | 0   | none | none                       | yes  | yes  | no   |
| The raw data received every minute represents the current number ofthreads which are running at that minute. The 5-minute data is theaverage number of threads running during the previous 5 minutes.                                                          | gauge   | count | average    | 0   | none | none                       | yes  | yes  | no   |

## Computed

| Name                           | Fully Qualified Name (FQN)                     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Units   | Min | Max | BASE | CORR | UTIL |
|--------------------------------|------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|-----|-----|------|------|------|
| Percentage of Full Table Scans | metricly.linux.mysql.fulltablescans.percentage | A full table scan occurs when a query is unable to use an index toassist with its execution, and therefore is required to parse the entiretable to find all the rows that satisfy the query. This metric reportsthe percentage of queries that needed to perform full table scans.Computation:100 * ((data[‘mysql.Handler_read_rnd_next’].actual +data[‘mysql.Handler_read_rnd’].actual) /(data[‘mysql.Handler_read_rnd_next’].actual +data[‘mysql.Handler_read_rnd’].actual +data[‘mysql.Handler_read_first’].actual +data[‘mysql.Handler_read_next’].actual +data[‘mysql.Handler_read_key’].actual +data[‘mysql.Handler_read_prev’].actual)) | percent | 0   | 100 | yes  | yes  | no   |
| Percentage of Slow Queries     | metricly.linux.mysql.slowqueries.percentage    | Percentage of queries that are running slow.Computation:(data[‘mysql.Queries’].actual == null || data[‘mysql.Queries’].actual ==0) ? 0 : 100 * (data[‘mysql.Slow_queries’].actual /data[‘mysql.Queries’].actual)                                                                                                                                                                                                                                                                                                                                                                                                                               | percent | 0   | 100 | no   | no   | no   |
